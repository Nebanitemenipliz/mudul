from telethon import TelegramClient, events, Button
from typing import Optional
from .. import loader


def _client() -> Optional[TelegramClient]:
    client = getattr(loader.tg, '_client', None)
    if client is None:
        return None
    return client


@loader.tds
class MyBotMod(loader.Module):
    """Модуль для отправки сообщений с кнопкой"""
    
    def __init__(self):
        self._client = _client()

    async def my_bot_cmd(self, event):
        await event.reply('Привет', buttons=[Button.inline('kanal', 'https://t.me/modwini')])


def setup(bot):
    bot.add_cog(MyBotMod())
